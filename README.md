SYSPROF Analyser
=================
Analyse SYSPROF V1.1 & V1.3 files and provides computational RAM usage statistics which can be exported to exel for building graphs.


  USAGE (Default statistics)
  -----------------------------

  Usage: `./sysprof_anal.sh "filename"`
``` bash
  Example: ./sysprof_anal.sh sysprof_unitel_sdp_7a.log.sdp1_170730.sysprof
```
  USAGE (For exact clients):
  ---------------------------

  Usage: `./sysprof_anal.sh "filename" "SDP client"`
``` bash
  Example: ./sysprof_anal.sh sysprof_unitel_sdp_7a.log.sdp1_170730.sysprof osa32
  Example: ./sysprof_anal.sh sysprof_unitel_sdp_7a.log.sdp1_170730.sysprof osa
```
  USAGE (Local server processes report):
  -----------------------------

  Usage: `./sysprof_anal.sh "filename" "localhost" "local SDP process name"`
``` bash
  Example: ./sysprof_anal.sh sysprof_unitel_sdp_7a.log.sdp1_170730.sysprof localhost sdsagent
```

PREREQUISITES:
---------------
Before use set correct SYSPROF file version, client_names and local_processes options in _VARS SET BY USER_ script section:
``` config
######################
#  VARS SET BY USER  #  VERIFY and set this BEFORE RUNNING SCRIPT.
######################
sysprof_version=1.1 #YOUR SYSPROF VERSION 1.1 or 1.3.
client_names="osa dslu slu eci notif ofr sapi ajms feadmin sdp" #SDP clients pattern. For func. gen_stat_get()
local_processes="sdsagent /ure java tsp nsrexecd nsrmmdbd nsrjb clstrmgr nmon topasrec arc gzip /DWH"
``` 

EXECUTION EXAMPLE:
-------------------

``` shell **Deafult mode**
MacBook-Pro-Philipp:Sysprof_analyse philipp$ ./sysprof_anal.sh SYSPROF.sdp1_190903.sysprof

Running for Sysprof version: 1.1

Maximum Comp RAM consumption (hourly) by Single URE session for the most heavy loaded SDP Clients (in Megabytes).
HINT: Average URE session should not consume more than 18Mb RAM.

HOSTNAME |0000 |0100 |0200 |0300 |0400 |0500 |0600 |0700 |0800 |0900 |1000 |1100 |1200 |1300 |1400 |1500 |1600 |1700 |1800 |1900 |2000 |2100 |2200 |2300
dslu42   |26.8 |26.8 |26.8 |25.7 |34.7 |34.8 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7 |22.6 |22.6 |22.6 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7
dslu42   |26.8 |26.8 |26.8 |25.7 |34.7 |34.8 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7 |22.6 |22.6 |22.6 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7 |22.7
eci115   |22.8 |22.8 |22.8 |26.8 |26.8 |26.9 |17.8 |18.5 |22.4 |21.9 |22.6 |22.7 |22.7 |22.7 |22.8 |22.8 |22.8 |26.8 |26.8 |26.8 |26.8 |26.8 |26.8 |26.8
notif102 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8
sapi111  |15.8 |15.8 |15.7 |15.8 |15.4 |15.6 |14.3 |16.7 |16.9 |21.5 |17.9 |21.8 |17.8 |22.0 |17.7 |20.8 |16.9 |17.8 |21.9 |17.1 |15.7 |21.7 |17.1 |15.1
ajms2    |12.8 |17.2 |17.2 |17.3 |17.3 |17.3 |17.3 |17.3 |17.3 |16.6 |16.8 |12.7 |12.7 |12.9 |12.9 |12.9 |12.9 |12.9 |12.9 |12.9 |12.9 |12.9 |12.9 |13.0
Execution time: 81 seconds

Total number of external SDP Clients connections by unittype (in sessions):
HOSTNAME |0000 |0100 |0200 |0300 |0400 |0500 |0600 |0700 |0800 |0900 |1000 |1100 |1200 |1300 |1400 |1500 |1600 |1700 |1800 |1900 |2000 |2100 |2200 |2300
dslu42   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14
dslu42   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14   |14
eci115   |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
notif102 |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
sapi111  |2    |1    |2    |1    |1    |2    |1    |1    |2    |3    |2    |3    |3    |2    |3    |3    |2    |3    |4    |5    |3    |2    |2    |2
ajms2    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |1    |2    |1
Execution time: 154 seconds

Summ of RAM consumption by all URE sessions from single SDP Client(in Megabytes). For top RAM consumenrs only.
HOSTNAME |0000 |0100 |0200 |0300 |0400 |0500 |0600 |0700 |0800 |0900 |1000 |1100 |1200 |1300 |1400 |1500 |1600 |1700 |1800 |1900 |2000 |2100 |2200 |2300
dslu42   |239.4|241.8|242.7|246.7|285.9|284.8|264.6|265.2|265.2|266.3|265.9|266.1|267.1|265.9|266.9|265  |268.1|265.8|267  |267  |267.3|265.7|265.8|266
dslu42   |239.4|241.8|242.7|246.7|285.9|284.8|264.6|265.2|265.2|266.3|265.9|266.1|267.1|265.9|266.9|265  |268.1|265.8|267  |267  |267.3|265.7|265.8|266
eci115   |116.1|117  |117  |125.3|129.3|133.4|94.4 |97.3 |102.3|110.3|111  |115.7|116.1|115.7|117.1|117.3|117.3|121.3|121.3|121.3|125.4|125.4|133.4|133.4
notif102 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8
sapi111  |27.4 |15.8 |28.3 |15.8 |15.4 |27.2 |14.3 |16.7 |31   |50.9 |34.8 |53.8 |46.5 |34.4 |45.7 |50.3 |30.6 |44.5 |66.6 |71   |42.6 |36.8 |32.3 |26.7
ajms2    |12.8 |17.2 |17.2 |17.3 |17.3 |17.3 |17.3 |17.3 |17.3 |16.6 |16.8 |12.7 |12.7 |12.9 |12.9 |12.9 |12.9 |12.9 |12.9 |12.9 |12.9 |12.9 |24.5 |13
Execution time: 225 seconds

Total memory consumption by internal SDP process (in Megabytes):
HOSTNAME |0000 |0100 |0200 |0300 |0400 |0500 |0600 |0700 |0800 |0900 |1000 |1100 |1200 |1300 |1400 |1500 |1600 |1700 |1800 |1900 |2000 |2100 |2200 |2300
ure      |439.3|1563.|1618.|445.4|445.4|445.4|445.4|445.4|445.4|446.3|446.3|446.3|446.9|447  |448.1|448.2|448.2|448.2|448.2|450.1|450.1|450.1|450.1|450.1
java     |261.7|261.9|261.9|140.6|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9|261.9
tsp      |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4  |9.4
nsrexecd |61.5 |61.5 |61.5 |62.2 |62.7 |62.7 |62.7 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |62.9 |63   |63.1
nsrmmdbd |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9 |22.9
nsrjb    |4.3  |5.5  |5.4  |4.3  |5.4  |4.4  |4.3  |4.3  |4.3  |4.2  |     |     |     |     |     |     |     |     |     |     |     |     |     |
clstrmgr |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38   |38
topas_nmo|94.5 |91.3 |91.4 |91.4 |91.4 |91.4 |91.4 |91.4 |91.4 |91.4 |91.4 |91.4 |91.4 |91.4 |93.8 |93.8 |93.8 |93.8 |91.4 |91.4 |91.4 |91.4 |91.4 |91.4
topasrec |127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3|127.3
ora_arc5_|44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9 |44.9
gzip     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |     |
Execution time: 287 seconds
MacBook-Pro-Philipp:Sysprof_analyse philipp$
```

``` shell
MacBook-Pro-Philipp:Sysprof_analyse philipp$ ./sysprof_anal.sh SYSPROF.sdp1_190903.sysprof notif

Running for Sysprof version: 1.1

Memory consumption on SDP by single notif client connection:
HOSTNAME |0000 |0100 |0200 |0300 |0400 |0500 |0600 |0700 |0800 |0900 |1000 |1100 |1200 |1300 |1400 |1500 |1600 |1700 |1800 |1900 |2000 |2100 |2200 |2300
notif101 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8
notif102 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8 |12.8
notif1   |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4 |12.4
notif2   |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3 |11.3
notif3   |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7
notif4   |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7 |11.7
notif5   |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8
notif6   |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8 |11.8
Execution time: 111 seconds

Total number of external SDP Clients connections from notif:
HOSTNAME |0000 |0100 |0200 |0300 |0400 |0500 |0600 |0700 |0800 |0900 |1000 |1100 |1200 |1300 |1400 |1500 |1600 |1700 |1800 |1900 |2000 |2100 |2200 |2300
notif101 |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
notif102 |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
notif1   |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
notif2   |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
notif3   |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
notif4   |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
notif5   |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
notif6   |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7    |7
Execution time: 211 seconds

Summ of RAM consumption by all URE sessions opened from notif external SDP clients (in Megabytes).
HOSTNAME |0000 |0100 |0200 |0300 |0400 |0500 |0600 |0700 |0800 |0900 |1000 |1100 |1200 |1300 |1400 |1500 |1600 |1700 |1800 |1900 |2000 |2100 |2200 |2300
notif101 |83.8 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9 |83.9
notif102 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8 |82.8
notif1   |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9 |78.9
notif2   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74   |74
notif3   |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7 |79.7
notif4   |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6 |79.6
notif5   |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2 |80.2
notif6   |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8 |79.8
Execution time: 312 seconds
MacBook-Pro-Philipp:Sysprof_analyse philipp$
```
